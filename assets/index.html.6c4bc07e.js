import{_ as t,r as o,o as p,c as l,a as n,b as s,d as e,e as c}from"./app.26c798e2.js";const i={},r=c(`<h2 id="开始项目" tabindex="-1"><a class="header-anchor" href="#开始项目" aria-hidden="true">#</a> 开始项目</h2><ul><li>安装依赖包</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token comment"># For Express and Apollo (default)</span>
$ <span class="token function">npm</span> i @nestjs/graphql @nestjs/apollo @apollo/server graphql

<span class="token comment"># For Fastify and Apollo</span>
 <span class="token function">npm</span> i @nestjs/graphql @nestjs/apollo @apollo/server @as-integrations/fastify graphql

<span class="token comment"># For Fastify and Mercurius</span>
 <span class="token function">npm</span> i @nestjs/graphql @nestjs/mercurius graphql mercurius
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="项目配置" tabindex="-1"><a class="header-anchor" href="#项目配置" aria-hidden="true">#</a> 项目配置</h2><ul><li>在 <code>app.module.ts</code> 中导入 <code>GraphQLModule</code> 模块</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Module <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@nestjs/common&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GraphQLModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@nestjs/graphql&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ApolloDriver<span class="token punctuation">,</span> ApolloDriverConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@nestjs/apollo&#39;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Module</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    GraphQLModule<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">forRoot</span><span class="token generic class-name"><span class="token operator">&lt;</span>ApolloDriverConfig<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      driver<span class="token operator">:</span> ApolloDriver<span class="token punctuation">,</span>
      <span class="token comment">// 生成 schema.gql 文件，代码优先</span>
      autoSchemaFile<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="生成-schema-gql-文件" tabindex="-1"><a class="header-anchor" href="#生成-schema-gql-文件" aria-hidden="true">#</a> 生成 schema.gql 文件</h2><ul><li><code>generate-typings.ts</code> 文件</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> GraphQLDefinitionsFactory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@nestjs/graphql&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> join <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;path&#39;</span>

<span class="token keyword">const</span> definitionsFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GraphQLDefinitionsFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
definitionsFactory<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  typePaths<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;./src/**/*.graphql&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  path<span class="token operator">:</span> <span class="token function">join</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;src/graphql.ts&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  outputAs<span class="token operator">:</span> <span class="token string">&#39;class&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>package.json</code> 文件</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;generate-typings&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ts-node generate-typings.ts&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="添加插件" tabindex="-1"><a class="header-anchor" href="#添加插件" aria-hidden="true">#</a> 添加插件</h2><ul><li><code>Apollo Sandbox</code> 插件，替换 <code>GraphQL Playground</code></li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ApolloDriver<span class="token punctuation">,</span> ApolloDriverConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@nestjs/apollo&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Module <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@nestjs/common&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GraphQLModule <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@nestjs/graphql&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ApolloServerPluginLandingPageLocalDefault <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@apollo/server/plugin/landingPage/default&#39;</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">Module</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  imports<span class="token operator">:</span> <span class="token punctuation">[</span>
    GraphQLModule<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">forRoot</span><span class="token generic class-name"><span class="token operator">&lt;</span>ApolloDriverConfig<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      driver<span class="token operator">:</span> ApolloDriver<span class="token punctuation">,</span>
      playground<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">ApolloServerPluginLandingPageLocalDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">AppModule</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="前端对接-graphql" tabindex="-1"><a class="header-anchor" href="#前端对接-graphql" aria-hidden="true">#</a> 前端对接 GraphQL</h2>`,15),u=n("p",null,"vue 项目",-1),d={href:"https://v4.apollo.vuejs.org/zh-cn/",target:"_blank",rel:"noopener noreferrer"},k=n("p",null,"react 项目",-1),v={href:"https://www.apollographql.com/docs/react/",target:"_blank",rel:"noopener noreferrer"},m=n("h2",{id:"参考资料",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#参考资料","aria-hidden":"true"},"#"),s(" 参考资料")],-1),h={href:"https://docs.nestjs.com/graphql/quick-start",target:"_blank",rel:"noopener noreferrer"},g={href:"https://graphql.org/",target:"_blank",rel:"noopener noreferrer"},b={href:"https://zhuanlan.zhihu.com/p/405664909",target:"_blank",rel:"noopener noreferrer"},f={href:"https://www.bilibili.com/video/BV1K44y197Za/",target:"_blank",rel:"noopener noreferrer"};function y(_,w){const a=o("ExternalLinkIcon");return p(),l("div",null,[r,n("ul",null,[n("li",null,[u,n("ul",null,[n("li",null,[n("a",d,[s("vue-apollo"),e(a)])])])]),n("li",null,[k,n("ul",null,[n("li",null,[n("a",v,[s("react-apollo"),e(a)])])])])]),m,n("ul",null,[n("li",null,[n("a",h,[s("NestJS GraphQL"),e(a)])]),n("li",null,[n("a",g,[s("GraphQL 官网"),e(a)])]),n("li",null,[n("a",b,[s("React 快速入门 GraphQL"),e(a)])]),n("li",null,[n("a",f,[s("Vue3+Nest+GraphQL+Prisma 入门全栈开发图书管理系统"),e(a)])])])])}const x=t(i,[["render",y],["__file","index.html.vue"]]);export{x as default};
